{% load i18n %}

    {% block extrahead %}
        <title>Report PDF</title>
        <style type="text/css">
            @page {
                size: a4;
                margin: 2cm 2cm 0.5cm 2cm;
                padding:0;
                font-family: Helvetica, Arial, sans-serif;
            }
            h3.title{
                font-weight: bold;
                text-align: center;
                font-size:15px;
            }
            table {
                width: 100%;
                height: 100%;
                margin: 0 auto;
            }
            p.title {
                font-weight: bold;
                text-align: center;
                font-size:15px;
            }
        </style>
    {% endblock %}

{% block content %}


    {% if type == 'e' %}

        <table class="table table-striped table-bordered">
            <tr>
                <th width="20%">{% trans "Title" %}</th><th width="20%">{% trans "Authors" %}</th>
                <th width="15%">{% trans "Media outlet" %}</th><th width="20%">{% trans "Topics" %}</th>
                <th width="15%">{% trans "URL" %}</th><th width="10%">{% trans "Date" %}</th>
            </tr>

            {% for dissemination in disseminations %}
                <tr>
                    {% if type == 'e'%}
                        <td>{{ dissemination.title }}</td>
                        <td>{{ dissemination.external.authors }}</td>
                        <td>{{ dissemination.external.media_outlet }}</td>
                        <td>{{ dissemination.topics }}</td>
                        <td><a href="{{ dissemination.link }}" target="_blank">{{ dissemination.link }}</a></td>
                        <td>{{ dissemination.date|date:"M d, Y" }}</td>
                    {% endif %}
                </tr>
            {% endfor %}

        </table>

        <div>
            <strong>Total:</strong> {{ disseminations|length }}
        </div>

    {% elif type == 'i'%}

        <table class="table table-striped table-bordered">

            {% if media_name  %}
                <div class="text-center"><strong>{{ media_name }}</strong></div><br>
            {% endif %}

            {% if media_name != 'Newsletter' %}
                <tr>
                    <th width="25%">{% trans "Title" %}</th><th width="15%">{% trans "Authors" %}</th>
                    <th width="20%">{% trans "Topics" %}</th><th width="30%">{% trans "URL" %}</th>
                    <th width="10%">{% trans "Date" %}</th>
                </tr>
            {% else %}
                <tr>
                    <th width="35%">{% trans "Title" %}</th><th width="20%">{% trans "Topics" %}</th>
                    <th width="35%">{% trans "URL" %}</th><th width="10%">{% trans "Date" %}</th>
                </tr>
            {% endif %}

            {% for dissemination in disseminations %}
                <tr>
                    <td>{{ dissemination.title }}</td>
                    {% if media_name != 'Newsletter' %}<td>{{ dissemination.authors }}</td>{% endif %}
                    <td>{{ dissemination.topics }}</td>
                    <td><a href="{{ dissemination.link }}" target="_blank">{{ dissemination.link }}</a></td>
                    <td>{{ dissemination.date|date:"M d, Y" }}</td>
                </tr>
            {% endfor %}
        </table>

        <div>
            <strong>Total:</strong> {{ disseminations|length }}
        </div>

    {% endif %}

{% endblock %}