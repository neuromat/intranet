{% extends "admin/base_site.html" %}
{% load i18n admin_static bootstrapped_goodies_tags %}

{% block breadcrumbs %}
<ul class="breadcrumb">
<li><a href="/">{% trans 'Home' %}</a></li>
<li><a href="/dissemination/dissemination_report">{% trans 'Dissemination report' %}</a></li>
<li>{% trans 'Results' %}</li>
</ul>
{% endblock %}

{% block content %}
{% if disseminations %}
    <table class="table table-striped table-bordered">
    <tr>
        {% if type == 'i' %}
            <th width="40%">{% trans "Title" %}</th><th width="25%">{% trans "Topics" %}</th>
            <th width="25%">{% trans "URL" %}</th><th width="10%">{% trans "Date" %}</th>
        {% elif type == 'e' %}
            <th width="20%">{% trans "Title" %}</th><th width="20%">{% trans "Authors" %}</th>
            <th width="15%">{% trans "Media outlet" %}</th><th width="20%">{% trans "Topics" %}</th>
            <th width="15%">{% trans "URL" %}</th><th width="10%">{% trans "Date" %}</th>
        {% endif %}
    </tr>
    {% for dissemination in disseminations %}
        <tr>
            {% if type == 'i' %}
                <td>{{ dissemination.title }}</td>
                <td>{{ dissemination.topics }}</td>
                <td>{{ dissemination.link }}</td>
                <td>{{ dissemination.date|date:"M d, Y" }}</td>
            {% elif type == 'e'%}
                <td>{{ dissemination.title }}</td>
                <td>{{ dissemination.external.authors }}</td>
                <td>{{ dissemination.external.media_outlet }}</td>
                <td>{{ dissemination.topics }}</td>
                <td>{{ dissemination.link }}</td>
                <td>{{ dissemination.date|date:"M d, Y" }}</td>
            {% endif %}
        </tr>
    {% endfor %}
    </table>

    <br>

    <h3>{% trans "Latex version:" %}</h3>
    <br>
    {% if type == 'i' %}
        <span>\begin{longtable}{ |p{5cm}|p{4cm}|p{3cm}|p{2cm}| }</span><br>
        <span>\hline</span><br>
        <span>
            {% trans "Title" %} & {% trans "Topics" %} & {% trans "URL" %} & {% trans "Date" %} \\ \hline
        </span><br>
        {% for dissemination in disseminations %}
            <span>
                {{ dissemination.title }} & {{ dissemination.topics }} & \url&#123;{{ dissemination.link }}&#125; &
                {{ dissemination.date|date:"M d, Y" }} \\ \hline
            </span><br>
        {% endfor %}
        <span>\end{longtable}</span>
    {% elif type == 'e' %}
        <span>\begin{longtable}{ |p{3cm}|p{2,3cm}|p{2cm}|p{2cm}|p{3,5cm}|p{1,2cm}| }</span><br>
        <span>\hline</span><br>
        <span>
            {% trans "Title" %} & {% trans "Authors" %} & {% trans "Media outlet" %} & {% trans "Topics" %} &
            {% trans "URL" %} & {% trans "Date" %} \\ \hline
        </span><br>
        {% for dissemination in disseminations %}
            <span>
                {{ dissemination.title }} & {{ dissemination.external.authors }} &
                {{ dissemination.external.media_outlet }} & {{ dissemination.topics }} &
                \url&#123;{{ dissemination.link }}&#125; & {{ dissemination.date|date:"M d, Y" }} \\ \hline
            </span><br>
        {% endfor %}
        <span>\end{longtable}</span>
    {% endif %}

{%  else %}
    {% trans "No disseminations found!" %}
{% endif %}

{% endblock %}